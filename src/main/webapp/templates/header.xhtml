<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets">

<h:body>
  <ui:composition>
    <header class="main-header">
      <nav class="navbar">
        <div class="nav-container sans">

          <!-- Logo -->
          <div class="nav-logo">
            <a href="home.jsf" class="logo-link">
              <h:graphicImage library="images" name="MBL_Logo_White.svg" alt="Moffat Bay Lodge" styleClass="logo-image" />
            </a>
          </div>

          <!-- Navigation Menu -->
          <div class="nav-menu" id="navMenu">
            <ul class="nav-list">
              <li class="nav-item"><a href="home.jsf" class="nav-link">HOME</a></li>
              <li class="nav-item"><a href="about-us.jsf" class="nav-link">ABOUT US</a></li>
              <li class="nav-item"><a href="home.jsf" class="nav-link">ROOMS</a></li>
              <li class="nav-item"><a href="reservation.jsf" class="nav-link">RESERVATIONS</a></li>
              <li class="nav-item"><a href="register.jsf" class="nav-link">REGISTER</a></li>
              <li class="nav-item"><a href="login.jsf" class="nav-link">LOG IN</a></li>
            </ul>
          </div>

          <!-- Call to Action -->
          <div class="nav-cta">
            <a href="home.jsf" class="book-now-btn">BOOK NOW</a>
          </div>

          <!-- User Avatar with Dropdown -->
          <div class="user-menu" style="position: relative; display: inline-block;">
            <div class="circle">
              <a class="circle-inner">#{userBean.initial}</a>
            </div>

            <div class="dropdown-content" style="
              display: none;
              position: absolute;
              right: 0;
              background-color: white;
              min-width: 120px;
              box-shadow: 0px 8px 16px rgba(0,0,0,0.2);
              z-index: 1;
              border-radius: 4px;">
              <a href="account.jsf" style="padding: 10px; display: block; text-decoration: none; color: black;">Account</a>
  			<!-- Logout Button (JSF Form) -->
  			<h:form style="margin: 0; padding: 0;">
   				<h:commandLink value="Logout"
                   action="#{reservationManager.logout}"
                   style="padding: 10px; display: block; text-decoration: none; color: black;" />
  				</h:form>
            </div>
          </div>

          <!-- Dropdown Script -->
          <script>
            const userMenu = document.querySelector('.user-menu');
            const dropdown = userMenu.querySelector('.dropdown-content');

            userMenu.addEventListener('mouseenter', () => {
              dropdown.style.display = 'block';
            });
            userMenu.addEventListener('mouseleave', () => {
              dropdown.style.display = 'none';
            });
          </script>

          <!-- Mobile Toggle -->
          <div class="nav-toggle" id="navToggle">
            <span class="bar"></span>
            <span class="bar"></span>
            <span class="bar"></span>
          </div>

        </div>
      </nav>
    </header>
  </ui:composition>
</h:body>
</html>

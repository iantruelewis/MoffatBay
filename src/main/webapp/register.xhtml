<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">

<h:head>
	<title><ui:insert name="title">Registration</ui:insert></title>

	<!--  Import Project Styles -->
	<h:outputStylesheet name="styles.css" library="css" />
	<link rel="shortcut icon" type="image/x-icon" href="#{resource['images/favicon.ico']}"/>

</h:head>

<h:body>
	<f:view>

<!--  Header  -->

		<ui:insert name="header">
			<ui:include src="/templates/header.xhtml" />
		</ui:insert>

<!--  Page Content  -->
					<h:form>

		<div class="row">
			<div class="twocol" id="regform">

				<div id="regforminner">

						<h:outputText styleClass="title" value="Create An Account" />
						<br />
						<h:outputText styleClass="subtext sans"
							value="Welcome to Moffat Bay Lodge! Please enter your details for an unforgettable experience." />
						<br />

						<h:panelGrid columns="1" style="width: 100%">

							<h:inputText id="name" pt:placeholder="Full Name..."
								value="#{registerBean.name}" required="true"
								requiredMessage="Enter your full name" styleClass="reg-form-field">
							</h:inputText>


							<h:inputText id="email" pt:placeholder="Email..."
								value="#{registerBean.email}" required="true"
								requiredMessage="An email address is required"
								validatorMessage="Enter a valid email address" styleClass="reg-form-field">
								<f:validateRegex pattern="[A-Za-z0-9_.]+@[A-Za-z0-9]+\.[A-Za-z0-9.]+" />
							</h:inputText>


							<h:inputSecret id="password" pt:placeholder="Password..."
								value="#{registerBean.password}" required="true"
								requiredMessage="Enter your Password" styleClass="reg-form-field">
								<f:validator validatorId="passwordValidator" />
								<f:attribute name="passwordConfirm" value="#{passwordConfirm}" />
							</h:inputSecret>


							<h:inputSecret id="passwordConfirm" pt:placeholder="Password..."
								value="#{registerBean.passwordConfirm}" required="true" 
								requiredMessage="Re-enter your Password" 
								binding="#{passwordConfirm}" styleClass="reg-form-field"/>

							<h:inputText id="phone" pt:placeholder="Phone..."
								value="#{registerBean.phone}" required="true"
								requiredMessage="A phone number is required"
								validatorMessage="Enter a phone number" styleClass="reg-form-field" >
								<f:validateLength minimum="10" />
							</h:inputText>

						</h:panelGrid>
						<br />
						<h:commandButton action="#{reservationManagerBean.register}" value="Create"
							styleClass="solidbutton" />
							
						<br/><br/>
						<h:outputLink value="login.jsf"
              			              style="color: black; text-decoration: underline; font-family: 'IBM Plex Sans', sans-serif; font-size: 0.85em;">
  						Already have an account? Login
						</h:outputLink>

          				<h:messages globalOnly="true" styleClass="message" />
						<h:messages for="name" styleClass="message" />
						<h:messages for="email" styleClass="message" />
						<h:messages for="password" styleClass="message" />
						<h:messages for="passwordConfirm" styleClass="message" />
						<h:messages for="phone" styleClass="message" />



				</div>

			</div>
			<div class="twocol">
				<h:graphicImage library="images" name="registration-lake.jpg" class="center-image" alt="Moffat Bay Sunset"/>
			</div>
		</div>
		
							</h:form>
		
<!--  Footer  -->
		<ui:insert name="newsletter">
			<ui:include src="/templates/newsletter.xhtml" />
		</ui:insert>


		<ui:insert name="footer">
			<ui:include src="/templates/footer.xhtml" />
		</ui:insert> 


	</f:view>
</h:body>
</html>
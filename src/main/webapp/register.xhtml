<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">

<h:head>
	<title><ui:insert name="title">Registration</ui:insert></title>

	<!--  Import Project Styles -->
	<h:outputStylesheet name="styles.css" library="css" />


</h:head>

<h:body>
	<f:view>

<!--  Header  -->

		<ui:insert name="header">
			<ui:include src="/templates/header.xhtml" />
		</ui:insert>

<!--  Page Content  -->
		<div class="row">
			<div class="twocol" id="regform">

				<div id="regforminner">

					<h:form>
						<h:outputText styleClass="title" value="Create An Account" />
						<br />
						<h:outputText styleClass="subtext sans"
							value="Welcome to Moffat Bay Lodge! Please enter your details for an unforgettable experience." />
						<br />

						<h:panelGrid columns="1">

							<h:inputText id="name" pt:placeholder="Full Name..."
								value="#{registerBean.name}" required="true"
								requiredMessage="Enter your full name">
							</h:inputText>


							<h:inputText id="email" pt:placeholder="Email..."
								value="#{registerBean.email}" required="true"
								requiredMessage="An email address is required"
								validatorMessage="Enter a valid email address">
								<f:validateRegex pattern="[A-Za-z0-9_.]+@[A-Za-z0-9]+\.[A-Za-z0-9]+" />
							</h:inputText>


							<h:inputSecret id="password" pt:placeholder="Password..."
								value="#{registerBean.password}" required="true"
								requiredMessage="Enter your Password">
								<f:validator validatorId="passwordValidator" />
								<f:attribute name="passwordConfirm" value="#{passwordConfirm}" />
							</h:inputSecret>


							<h:inputSecret id="passwordConfirm" pt:placeholder="Password..."
								value="#{registerBean.passwordConfirm}" required="true" 
								requiredMessage="Re-enter your Password" 
								binding="#{passwordConfirm}" />

							<h:inputText id="phone" pt:placeholder="Phone..."
								value="#{registerBean.phone}" required="true"
								requiredMessage="A phone number is required"
								validatorMessage="Enter a phone number"
								>
								<f:validateLength minimum="10" />
							</h:inputText>

						</h:panelGrid>
						<br />
						<h:commandButton action="#{registerBean.register}" value="Create"
							styleClass="solidbutton" />

          				<h:messages globalOnly="true" styleClass="message" />
						<h:messages for="name" styleClass="message" />
						<h:messages for="email" styleClass="message" />
						<h:messages for="password" styleClass="message" />
						<h:messages for="passwordConfirm" styleClass="message" />
						<h:messages for="phone" styleClass="message" />


					</h:form>

				</div>

			</div>
			<div class="twocol">
				<h:graphicImage value="images/regimage01.jpg" id="regimage" alt="Moffat Bay Sunset"/>
			</div>
		</div>
		
<!--  Footer  -->
		<ui:insert name="newsletter">
			<ui:include src="/templates/newsletter.xhtml" />
		</ui:insert>


		<ui:insert name="footer">
			<ui:include src="/templates/footer.xhtml" />
		</ui:insert> 


	</f:view>
</h:body>
</html>
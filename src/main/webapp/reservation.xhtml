<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">

<h:head>
	<title><ui:insert name="title">Moffat Bay Lodge Reservations</ui:insert></title>

	<!--  Import Project Styles -->
	<h:outputStylesheet name="styles.css" library="css" />


</h:head>

<!-- redirects to login if the user is not logged in -->
<f:metadata>
    <f:viewAction action="#{userBean.checkLogin()}" />
</f:metadata>

<h:body>
	<f:view>

		<!--  Header  -->

		<ui:insert name="header">
			<ui:include src="/templates/header.xhtml" />
		</ui:insert>

		<!-- Hero Section -->
      <div style="
        height: 200px;
        width: 100%;
        background-image: url('#{resource['images/res-hero.jpg']}');
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
        position: relative;
        display: flex;
        align-items: center;
        justify-content: flex-start;
      ">
      		<p class="title" style="text-shadow: 0px 2px 3px black; width: 100%; color: white; text-align: center; margin-top: 50px;">Reserve Your Rooms Today</p>
      
      </div>
		
		<h:form id="reservation-form">

		<ui:insert name="reservation-panel">
			<ui:include src="/templates/reservation-panel.xhtml" />
		</ui:insert>
		
		
		<!--  Room Listing  -->

			<!-- FULL -->
			<div class="row">
				<div class="twocol" style="max-height: 500px">
					<h:graphicImage library="images" name="HP_04_Rooms_Section_3.png"
						class="center-image" alt="Room with two full beds" />
				</div>

				<div class="twocol">
					<div class="room-form-container">
						<p class="title">Two Full Beds</p>
						<p>$120 per night</p>
						<p>Dual Full Beds</p>
						<p>Sleeps up to four guests</p>
						<p>Our most affordable room</p>

						<!-- FUll FORM -->
						<p class="sans subtext">

							<h:outputText value="ROOMS" />

							<!--  Add Remove Links -->
							<h:commandLink action="#{reservationBean.upFull2}">
								<h:graphicImage library="images" name="chevron-up.svg"
									class="chevron" alt="Add room" />
								<f:ajax execute="@form" render="checkin checkout guestCount full2 max-full2 queen1 max-queen1 queen2 max-queen2 king1 max-king1" />
							</h:commandLink>
							<h:commandLink action="#{reservationBean.dnFull2}">
								<h:graphicImage library="images" name="chevron-down.svg"
									class="chevron" alt="Remove room" />
								<f:ajax execute="@form" render="checkin checkout guestCount full2 max-full2 queen1 max-queen1 queen2 max-queen2 king1 max-king1" />
							</h:commandLink>

						</p>
						<h:inputText styleClass="room-count" id="full2"
							value="#{reservationBean.full2}"
							validatorMessage="#{reservationBean.roomAvailability['2full']} rooms available for your selected dates">
							<f:convertNumber maxIntegerDigits="2" integerOnly="true" />

						<f:ajax event="blur" render="checkin checkout guestCount full2 max-full2 queen1 max-queen1 queen2 max-queen2 king1 max-king1" />
						</h:inputText>

						<h:outputText id="max-full2"
							value="#{reservationBean.roomAvailability['2full']} Available" />
						<br />
						<h:message for="full2" styleClass="message" />

						<br />

						<h:commandButton
							action="reservation-summary"
							value="Reserve Now" styleClass="solidbutton" />
					</div>
				</div>
			</div>

			<br />
			<!-- 1 QUEEN -->
			<div class="row">
				<div class="twocol" style="max-height: 500px">
					<h:graphicImage library="images" name="HP_04_Rooms_Section_1.png"
						class="center-image" alt="Room with one queen bed" />
				</div>

				<div class="twocol">
					<div class="room-form-container">
						<p class="title">One Queen Bed</p>
						<p>$135 per night</p>
						<p>One Queen Bed</p>
						<p>Sleeps up to two guests</p>

						<!-- 1 QUEEN FORM -->
						<p class="sans subtext">
							<h:outputText value="ROOMS" />

							<!--  Add Remove Links -->
							<h:commandLink action="#{reservationBean.upQueen1}">
								<h:graphicImage library="images" name="chevron-up.svg"
									class="chevron" alt="Add room" />
								<f:ajax execute="@form" render="queen1" />
							</h:commandLink>
							<h:commandLink action="#{reservationBean.dnQueen1}">
								<h:graphicImage library="images" name="chevron-down.svg"
									class="chevron" alt="Remove room" />
								<f:ajax execute="@form" render="checkin checkout guestCount full2 max-full2 queen1 max-queen1 queen2 max-queen2 king1 max-king1" />
							</h:commandLink>

						</p>
						<h:inputText styleClass="room-count" id="queen1"
							value="#{reservationBean.queen1}"
							validatorMessage="#{reservationBean.roomAvailability['1queen']} rooms available for your selected dates">
							<f:convertNumber maxIntegerDigits="2" integerOnly="true" />

								
							<f:ajax event="blur" render="checkin checkout guestCount full2 max-full2 queen1 max-queen1 queen2 max-queen2 king1 max-king1" />
								
						</h:inputText>

						<h:outputText id="max-queen1"
							value="#{reservationBean.roomAvailability['1queen']} Available" />
						<br />

						<h:message for="queen1" styleClass="message" />
						<br />

						<h:commandButton
							action="reservation-summary"
							value="Reserve Now" styleClass="solidbutton" />
					</div>
				</div>
			</div>

			<br />

			<!-- 2 QUEEN -->
			<div class="row">
				<div class="twocol" style="max-height: 500px">
					<h:graphicImage library="images" name="HP_04_Rooms_Section_2.png"
						class="center-image" alt="Room with two queen beds" />
				</div>

				<div class="twocol">
					<div class="room-form-container">
						<p class="title">Two Queen Beds</p>
						<p>$150 per night</p>
						<p>Two Queen Beds</p>
						<p>Sleeps up to four guests</p>

						<!-- 2 QUEEN FORM -->
						<p class="sans subtext">
							<h:outputText value="ROOMS" />

							<!--  Add Remove Links -->
							<h:commandLink action="#{reservationBean.upQueen2}">
								<h:graphicImage library="images" name="chevron-up.svg"
									class="chevron" alt="Add room" />
								<f:ajax execute="@form" render="checkin checkout guestCount full2 max-full2 queen1 max-queen1 queen2 max-queen2 king1 max-king1" />
							</h:commandLink>
							<h:commandLink action="#{reservationBean.dnQueen2}">
								<h:graphicImage library="images" name="chevron-down.svg"
									class="chevron" alt="Remove room" />
								<f:ajax execute="@form" render="checkin checkout guestCount full2 max-full2 queen1 max-queen1 queen2 max-queen2 king1 max-king1" />
							</h:commandLink>

						</p>
						<h:inputText styleClass="room-count" id="queen2"
							value="#{reservationBean.queen2}"
							validatorMessage="#{reservationBean.roomAvailability['2queen']} rooms available for your selected dates">
							<f:convertNumber maxIntegerDigits="2" integerOnly="true" />

							<f:ajax event="blur" render="checkin checkout guestCount full2 max-full2 queen1 max-queen1 queen2 max-queen2 king1 max-king1" />
								
						</h:inputText>
						<h:outputText id="max-queen2"
							value="#{reservationBean.roomAvailability['2queen']} Availavle" />
						<br />

						<h:message for="queen2" styleClass="message" />

						<br />

						<h:commandButton
							action="reservation-summary"
							value="Reserve Now" styleClass="solidbutton" />
					</div>
				</div>
			</div>

			<br />

			<!-- 1 KING -->
			<div class="row">
				<div class="twocol" style="max-height: 500px">
					<h:graphicImage library="images" name="HP_04_Rooms_Section_4.jpg"
						class="center-image" alt="Room with one king bed" />
				</div>

				<div class="twocol">
					<div class="room-form-container">
						<p class="title">One King Bed</p>
						<p>$160 per night</p>
						<p>One King Bed</p>
						<p>Sleeps up to two guests</p>

						<!-- 1 KING FORM -->
						<p class="sans subtext">
							<h:outputText value="ROOMS" />

							<!--  Add Remove Links -->
							<h:commandLink action="#{reservationBean.upKing1}">
								<h:graphicImage library="images" name="chevron-up.svg"
									class="chevron" alt="Add room" />
								<f:ajax execute="@form" render="checkin checkout guestCount full2 max-full2 queen1 max-queen1 queen2 max-queen2 king1 max-king1" />
							</h:commandLink>
							<h:commandLink action="#{reservationBean.dnKing1}">
								<h:graphicImage library="images" name="chevron-down.svg"
									class="chevron" alt="Remove room" />
								<f:ajax execute="@form" render="checkin checkout guestCount full2 max-full2 queen1 max-queen1 queen2 max-queen2 king1 max-king1" />
							</h:commandLink>

						</p>
						<h:inputText styleClass="room-count" id="king1"
							value="#{reservationBean.king1}"
							validatorMessage="#{reservationBean.roomAvailability['1king']} rooms available for your selected dates">
							<f:convertNumber maxIntegerDigits="2" integerOnly="true" />
								
							<f:ajax event="blur" render="checkin checkout guestCount full2 max-full2 queen1 max-queen1 queen2 max-queen2 king1 max-king1" />
								
						</h:inputText>

						<h:outputText id="max-king1"
							value="#{reservationBean.roomAvailability['1king']} Available" />
						<br />

						<h:message for="king1" styleClass="message" />
						<br />

						<h:commandButton
							action="reservation-summary"
							value="Reserve Now" styleClass="solidbutton" />

					</div>
				</div>
			</div>

		</h:form>

		<!--  Footer  -->
		<ui:insert name="newsletter">
			<ui:include src="/templates/newsletter.xhtml" />
		</ui:insert>


		<ui:insert name="footer">
			<ui:include src="/templates/footer.xhtml" />
		</ui:insert>


	</f:view>
</h:body>
</html>